---
title: "æœªçµŒé¨“ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒä½œæˆã—ãŸãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã§ä½¿ã‚ã‚Œã¦ã„ã‚‹æŠ€è¡“ã‚’é›†è¨ˆã—ã¦ã¿ãŸ"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["TypeScript","QiitaAPI","ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª","æœªçµŒé¨“ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢"]
published: true
---
æœ€è¿‘ã€æœªçµŒé¨“ã‹ã‚‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å°±è·ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ã‚’ã‚ˆãè¦‹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã­ã€‚
ãã‚Œã«ä¼´ã£ã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œã£ã¦ã¿ãŸè¶£æ—¨ã®è¨˜äº‹ã‚‚ã‚ˆãè¦‹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
è‡ªåˆ†ãŒå°±è·ã—ãŸå½“æ™‚ã¯ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãªã‚“ã¦è¨€è‘‰ã‚’çŸ¥ã‚‰ãªã‹ã£ãŸã—ã€ãªã‚“ãªã‚‰ä»Šã®è‡ªåˆ†ã‚ˆã‚Šãƒˆãƒ¬ãƒ³ãƒ‰æŠ€è¡“ã‚’ã†ã¾ãä½¿ã„ã“ãªã—ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã‹ã¨ã‚‚æ€ã£ãŸã‚Šã—ã¾ã™ã€‚
ãã‚“ãªè¨³ã§ã€æœªçµŒé¨“ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯ã©ã‚“ãªæŠ€è¡“ã‚’ä½¿ã£ã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œã£ã¦ã„ã‚‹ã®ã‹ã‚’èª¿ã¹ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

## ã©ã†ã‚„ã‚‹
- Qiitaã§ã€ŒæœªçµŒé¨“ã€€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã€ã§è¨˜äº‹æ¤œç´¢ã‚’ã™ã‚‹
- ã‚¿ã‚°ã‚’é›†è¨ˆã—ã¦å„æŠ€è¡“ã®å‰²åˆã‚’ç®—å‡ºã™ã‚‹
- ã©ã†ã«ã‹ã“ã†ã«ã‹å††ã‚°ãƒ©ãƒ•ã‚’æç”»ã™ã‚‹


## ã‚„ã‚‹
ã‚½ãƒ¼ã‚¹å…¨æ–‡ã¯[ã“ã¡ã‚‰ã®è¨˜äº‹](https://www.ooooouchi.info/entry/2021/02/15/083000)ã«è¼‰ã›ã¦ã„ã¾ã™ã€‚
### è¨˜äº‹æ¤œç´¢
Qiita APIã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
[Qiita API v2ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Qiita:Developer](https://qiita.com/api/v2/docs#get-apiv2items)


```TypeScript:main.ts
import * as rp from "request-promise";

let pageIndex: number = 1;

const body: string = await getPosts(pageIndex);
const posts: Post[] = JSON.parse(body);
let allPosts: Post[] = [];
allPosts = allPosts.concat(posts);
let postSize = posts.length;

while (postSize >= MAX_CONTENTS) {
  pageIndex++;
  const body = await getPosts(pageIndex);
  const nextPosts = JSON.parse(body);
  allPosts = allPosts.concat(nextPosts);
  postSize = nextPosts.length;
}

function getPosts(page: number) {
  const options: rp.Options = {
    uri: `https://qiita.com/api/v2/items?page=${page}&per_page=100&query=%E6%9C%AA%E7%B5%8C%E9%A8%93%E3%80%80%E3%83%9D%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AA%E3%82%AA`,
    headers: {
      Authorization: `Bearer ${process.env.READ_TOKEN}`,
    },
  };
  return new Promise<string>((resolve, reject) => {
    rp(options)
      .then((res) => {
        resolve(res);
      })
      .catch((err) => {
        reject(err);
      });
  });
}
```
ã€ŒæœªçµŒé¨“ã€€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã€ã§è¨˜äº‹æ¤œç´¢ã—ãŸçµæœã‚’100ä»¶ãšã¤å–å¾—ã—ã¦ã„ã¾ã™ã€‚
100ä»¶å–å¾—ã§ããŸå ´åˆã¯ãƒšãƒ¼ã‚¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦æ¬¡ã®100ä»¶ã‚’å–å¾—ã—ã¾ã™ã€‚
æœ€çµ‚çš„ã«å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ã“ã‚“ãªæ„Ÿã˜â†“
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-13 12.42.47.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/246580/241212c2-9d8d-608e-bd44-e757e70144dc.png)

504ä»¶å–å¾—ã§ããŸã¿ãŸã„ã§ã™ã€‚
### ã‚¿ã‚°é›†è¨ˆ
å–å¾—ã—ã¦ããŸè¨˜äº‹ã®ä¸­ã‹ã‚‰ã‚¿ã‚°ã ã‘ã‚’æŠ½å‡ºã—ãŸé…åˆ—ã‚’ä½œæˆã—ã¾ã™ã€‚

```TypeScript:main.ts
const tagsArr: tag[] = [].concat(
  ...allPosts
    .map(function (res) {
      return res.tags;
    })
    .map(function (tags: tag[]) {
      return tags.map(function (tag) {
        return tag.name;
      });
    })
);
```
ã§ããŸé…åˆ—ã¯ã“ã‚“ãªæ„Ÿã˜â†“
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-13 12.45.39.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/246580/e74a445c-013a-8835-5d3b-78f76b2b4671.png)
1900ä»¥ä¸Šã®ã‚¿ã‚°ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚
å¹³å‡ã—ã¦ï¼‘è¨˜äº‹ã«ï¼“ã€œï¼•å€‹ã»ã©ã§ã—ã‚‡ã†ã‹ã€‚
æŠ€è¡“ã‚«ãƒ†ã‚´ãƒªã§ã¯ãªã„ã‚¿ã‚°ã‚‚æ··ã˜ã£ã¦ã‚‹ã‘ã©å‹•ãã®ã§ã¨ã‚Šã‚ãˆãšãƒ¨ã‚·ï¼

é…åˆ—å†…ã§é‡è¤‡ã—ã¦ã„ã‚‹ã‚¿ã‚°ã®å‡ºç¾å›æ•°ã‚’ã‚’é›†è¨ˆã—ã¾ã™ã€‚
â€»å‚è€ƒï¼š[JavaScriptã§é…åˆ—ã®é‡è¤‡ã—ã¦ã„ã‚‹é …ç›®ã®æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ - Qiita](https://qiita.com/y-temp4/items/76ba73831268358c88d8)

```TypeScript:main.ts
const pie = countDuplicate(tagsArr);

function countDuplicate(arr) {
  return arr.reduce(function (counts, key) {
    counts[key] = counts[key] ? counts[key] + 1 : 1;
    return counts;
  }, {});
}
```

### ã‚°ãƒ©ãƒ•æç”»
[nodeplotlib  -  npm](https://www.npmjs.com/package/nodeplotlib)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```TypeScript:main.ts
const data: nodeplotlib.Plot[] = [
  {
    type: "pie",
    values: Object.values(pie),
    labels: Object.keys(pie),
    textinfo: "label+percent",
  },
];
nodeplotlib.plot(data);
```
æç”»ã—ã¦ã¿ã¾ã™ã€‚
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-13 13.45.19.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/246580/62362e98-22f8-fe49-198b-daa5d009d7fb.png)

ã‚¿ã‚°ãŒå¤šã™ãã¦ãªã‚“ã¨ã‚‚è¨€ãˆãªã„ã‚°ãƒ©ãƒ•ãŒå®Œæˆã—ã¾ã—ãŸã€‚
ã“ã“ã‹ã‚‰ã‚ã‚‹ç¨‹åº¦ã®å‚¾å‘ãŒã‚ã‹ã‚‹ãã‚‰ã„ã«ã‚¿ã‚°ã‚’é–“å¼•ã„ã¦å®Œäº†ã§ã™ã€‚

## å®Œæˆã—ãŸå††ã‚°ãƒ©ãƒ•
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-13 14.15.15.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/246580/a6438e1b-b20d-2fda-2723-a95f043b43cf.png)

## ã¾ã¨ã‚
æœªçµŒé¨“ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹æŠ€è¡“ã¯å¤§ä½“ã“ã‚“ãªæ„Ÿã˜ã§ã—ã‚‡ã†ã‹ã€‚

ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼šRubyã€PHPã€Python
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼šJavaScriptã€Vue.jsã€React
ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼šRailsã€Laravelã€Django
ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼šAWSã€Firebase
ã‚µãƒ¼ãƒãƒ¼ï¼šDocker
ã‚³ãƒ¼ãƒ‰ç®¡ç†ï¼šGitHub

å‰²ã¨äºˆæƒ³é€šã‚Šã®äººãŒå¤šã‹ã£ãŸã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ã‚ˆãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹æŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦ãƒ¬ãƒ™ãƒ«ã®å·®ã‚’è¦‹ã›ã¤ã‘ã‚‹ã‚‚è‰¯ã—ã€æ•¢ãˆã¦ä½¿ç”¨ç‡ã®ä½ã„æŠ€è¡“ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã‚‹ã®ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ã­ã€‚
